<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Live Scoreboard</title>
Â  <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@400;600;800&display=swap" rel="stylesheet" />
Â  <style>
Â  Â  * {
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  Â  box-sizing: border-box;
Â  Â  }

Â  Â  body {
Â  Â  Â  font-family: "Geist Mono", monospace;
Â  Â  Â  background: #000;
Â  Â  Â  color: #fff;
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  align-items: center;
Â  Â  Â  height: 100vh;
Â  Â  Â  padding: 20px;
Â  Â  }

Â  Â  .score-container {
Â  Â  Â  background: linear-gradient(145deg, #0a0a0a, #1a1a1a);
Â  Â  Â  border: 2px solid #00ff99;
Â  Â  Â  border-radius: 20px;
Â  Â  Â  padding: 30px;
Â  Â  Â  box-shadow: 0 0 30px rgba(0, 255, 100, 0.3);
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 600px;
Â  Â  }

Â  Â  .flags {
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: space-between;
Â  Â  Â  align-items: center;
Â  Â  Â  margin-bottom: 30px;
Â  Â  }

Â  Â  .flag-box {
Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  .flag-box img {
Â  Â  Â  width: 60px;
Â  Â  Â  height: 40px;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  border: 2px solid #00ffcc;
Â  Â  Â  box-shadow: 0 0 10px #00ffaa;
Â  Â  }

Â  Â  .team-name {
Â  Â  Â  margin-top: 10px;
Â  Â  Â  font-weight: 600;
Â  Â  Â  font-size: 1rem;
Â  Â  Â  color: #00ffcc;
Â  Â  Â  text-shadow: 0 0 5px #00ffaa;
Â  Â  }

Â  Â  #match-id {
Â  Â  Â  display: none;
Â  Â  }

Â  Â  .score-box {
Â  Â  Â  background: rgba(0, 20, 10, 0.8);
Â  Â  Â  border: 2px solid #00ff80;
Â  Â  Â  padding: 25px;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  box-shadow: 0 0 15px rgba(0, 255, 150, 0.4);
Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  text-align: center;
Â  Â  Â  line-height: 1.6;
Â  Â  }

Â  Â  .score-box p {
Â  Â  Â  margin-bottom: 8px;
Â  Â  }

Â  Â  .notification {
Â  Â  Â  display: none;
Â  Â  Â  color: #ff5050;
Â  Â  Â  font-weight: 600;
Â  Â  Â  margin-top: 20px;
Â  Â  }

Â  Â  .notification.is-active {
Â  Â  Â  display: block;
Â  Â  }

Â  Â  .shake {
Â  Â  Â  animation: shake 0.5s ease-in-out;
Â  Â  }

Â  Â  @keyframes shake {
Â  Â  Â  0% { transform: translateX(0); }
Â  Â  Â  25% { transform: translateX(-5px); }
Â  Â  Â  50% { transform: translateX(5px); }
Â  Â  Â  75% { transform: translateX(-5px); }
Â  Â  Â  100% { transform: translateX(0); }
Â  Â  }
Â  </style>
</head>
<body>
Â  <div class="score-container">
Â  Â  <div class="flags">
Â  Â  Â  <div class="flag-box">
Â  Â  Â  Â  <img src="https://flagcdn.com/w320/za.png" alt="South Africa">
Â  Â  Â  Â  <div class="team-name">South Africa</div>
Â  Â  Â  </div>
Â  Â  Â  <div class="flag-box">
Â  Â  Â  Â  <img src="https://flagcdn.com/w320/au.png" alt="Australia">
Â  Â  Â  Â  <div class="team-name">Australia</div>
Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <input type="hidden" id="match-id" value="106673" />

Â  Â  <div class="notification" id="notification"><span></span></div>

Â  Â  <div id="score-card" class="score-box is-hidden" aria-live="polite">
Â  Â  Â  <p id="score-output" tabindex="0">Loading live score...</p>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  const canonicalLink = document.createElement('link');
Â  Â  canonicalLink.setAttribute('rel', 'canonical');
Â  Â  canonicalLink.setAttribute('href', window.location.href);
Â  Â  document.head.appendChild(canonicalLink);

Â  Â  document.addEventListener('DOMContentLoaded', async () => {
Â  Â  Â  try {
Â  Â  Â  Â  const matchIdInput = document.getElementById('match-id');
Â  Â  Â  Â  if (!matchIdInput) return;

Â  Â  Â  Â  const matchId = matchIdInput.value.trim();
Â  Â  Â  Â  if (matchId) {
Â  Â  Â  Â  Â  localStorage.setItem('matchId', matchId);
Â  Â  Â  Â  Â  await fetchScore(matchId);
Â  Â  Â  Â  }
Â  Â  Â  } catch (error) {
Â  Â  Â  Â  console.error('Error loading match data:', error);
Â  Â  Â  }
Â  Â  });

Â  Â  function getCurrentDateTime() {
Â  Â  Â  const options = {
Â  Â  Â  Â  timeZone: "Asia/Kolkata",
Â  Â  Â  Â  hour: "2-digit",
Â  Â  Â  Â  minute: "2-digit",
Â  Â  Â  Â  second: "2-digit",
Â  Â  Â  Â  day: "2-digit",
Â  Â  Â  Â  month: "2-digit",
Â  Â  Â  Â  year: "numeric",
Â  Â  Â  };
Â  Â  Â  const now = new Date();
Â  Â  Â  return now.toLocaleDateString("en-US", options);
Â  Â  }

Â  Â  async function fetchScore(matchId) {
Â  Â  Â  document.getElementById('score-card').classList.add('is-hidden');

Â  Â  Â  try {
Â  Â  Â  Â  const response = await fetch(`/score?id=${matchId}`);
Â  Â  Â  Â  if (!response.ok) throw new Error('Unable to fetch live score.');

Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  const currentTime = getCurrentDateTime();

Â  Â  Â  Â  let scoreOutput = '';
Â  Â  Â  Â  if (data.livescore === "Match Stats will Update Soon") {
Â  Â  Â  Â  Â  scoreOutput = `ğŸ <strong>${data.title}</strong><br>ğŸ“ ${data.update}<br>âŒ› ${currentTime}`;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  scoreOutput = `ğŸ <strong>${data.title}</strong><br><span style="font-size:1.6rem;color:#00ffcc">ğŸ”¢ ${data.livescore}</span><br>ğŸ“Š ${data.runrate}<br>ğŸ“ ${data.update}<br>âŒ› ${currentTime}`;
Â  Â  Â  Â  }

Â  Â  Â  Â  const scoreOutputElement = document.getElementById('score-output');
Â  Â  Â  Â  scoreOutputElement.innerHTML = scoreOutput;
Â  Â  Â  Â  scoreOutputElement.classList.add('shake');

Â  Â  Â  Â  const scoreCard = document.getElementById('score-card');
Â  Â  Â  Â  scoreCard.classList.remove('is-hidden');

Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  scoreOutputElement.classList.remove('shake');
Â  Â  Â  Â  }, 500);

Â  Â  Â  } catch (error) {
Â  Â  Â  Â  showNotification(error.message);
Â  Â  Â  }
Â  Â  }

Â  Â  function showNotification(message) {
Â  Â  Â  const notification = document.getElementById('notification');
Â  Â  Â  notification.querySelector('span').textContent = message;
Â  Â  Â  notification.classList.add('is-active');
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  notification.classList.remove('is-active');
Â  Â  Â  }, 3000);
Â  Â  }
Â  </script>
</body>
</html>
